# API错误状态返回说明

> 默认情况下所有请求返回的HTTP状态均为200, 下面所描述的状态指JSON数据中`code`字段值，同时会在`msg`字段中返回描述信息

## 正常状态
1. `0`
     请求成功, 请依据`status`字段判断是否成功

## 请求错误
1. `404`
    Page not found, 页面未找到

2. `500`
    Server error, 服务器错误

3. `OTHER`,`403` 等等HTTP CODE
    Request error, 其他未定义的请求错误


>如果自定义了一个HTTP状态为`code`, 例如`code`为403，在所有情况下服务器均会返回`200`的HTTP状态，如果是403等会再code中标记，同时会再返回msg和data


## 常规错误状态
>如果在客户端需要定义错误状态，请将-1~-100保留，该系列值可能会有服务器端返回

1. `-1`
    Unknown status, 未知状态

2. `-2`
    未登录，提示该操作需要登录

3. `-3`
    未处理的异常操作
    
3. `-10~-20` 数据异常状态
    * `-10`, 数据库操作异常
    * `-11`, 数据库SQL语句检测异常
    * `-12`, 数据库数据验证异常
    * `-13`, 传递的参数类型异常，请检查，如需要Integer类型，传的却不是
    * `-14`, 服务器数据异常,NULL
    * `-15`, 数字参数解析错误
        
## 逻辑验证错误

>逻辑验证错误指在正常请求过程中，验证失败或返回相应错误信息的`code`状态，状态为5位数字。前3位为注册的应用模块，范围为100-999。后两位为模块中的详细错误，返回00-99。不符合此范围均为异常信息。

1. 获取学生基本信息 `104`
	* `10400` 当前用户非学生用户，无法获取其基本信息

2. 如果学生信息不完全，绑定基本信息 `105`
	* `10500` 当前信息无法进行补充
	* `10501` 名称必须为2-5个长度的中文
	* `10502` 请填写合法的学号
	* `10503` 性别不符规范
	* `10504` 当前学号已经存在
	* `10505` 传递的班级专业信息不合法
	* `10506` 无法绑定用户信息

3. 更新学生的基本信息 `106`
	* `10600` 无需更新用户描述信息
	* `10601` 更新学生信息出错

4. 邮件发送操作 `109`
	* `10900` 无法创建邮件发送对象
	* `10901` 邮件发送异常

5. 获取教师基本信息 `111`
	* `11100` 非教师身份，无法查询相关信息

6. 更新教师的基本信息 `112`
	* `11200` 无需更新用户描述信息
	* `11201` 更新教师信息出错

7. 添加一个基础课程名称信息 `113`
	* `11300` 必须是教师才能添加课程
	* `11301` 名称不能为空
	* `11302` 当前名称已存在，不需要重复添加
	* `11303` 添加失败，请检查数据

8. 课程基础信息的获取 `114`
	* `11400` 必须使用教师用户访问
	* `11401` 搜索参数不允许为空
	* `11402` 必须使用合法用户访问，如教师、学生、管理员

9. 课程基础信息的获取 `115`
	* `11500` 必须是教师用户
	* `11501` 课程ID参数传递错误
	* `11502` 该课程存在依赖关系，无删除
	* `11503` 无法删除课程

10. 添加一个课表信息 schedule `120`
	* `12000` 无访问权限
	* `12001` 专业和课程不能为空
	* `12002` 课程描述不允许为空
	* `12003` 开学季度必须为一个正确值
	* `12004` 请选择一个合适的开学年份
	* `12005` 课程起始周有误，必须在1-28周之间
	* `12006` 结束周必须使用一个合适的值
	* `12007` 添加数据无权限，不在此学院组
	* `12008` 找不到课程名，请使用正确的课程名称
	* `12009` 数据存在冲突，请试着查询当前数据唯一性
	* `12010` 插入数据失败

11. 课程搜索 Schedule Search `121`
	* `12100` 登录用户检查失败
	* `12101` 开学季度不正确
	* `12102` 输入正确的开课年份

12. 查询一个课程表的信息 `124`
	* `12400` 课程表ID无效
	* `12401` 无效的状态
	* `12402` 当前课程未找到

13. 添加课程安排表 `125`
	* `12500` 不是教师用户，无法添加课程表
	* `12501` 没有指定该课程的班级，或班级参数异常
	* `12502` 专业不能为空
	* `12503` 入学年份不能为空
	* `12504` 对应的课程必须选择
	* `12505` 不存在任何一个可行的上课地点
	* `12506` 有课程周次检测失败，请检查
	* `12507` 存在重复的课程数据，请检查
	* `12508` 教师不属于当前学院，无法添加
	* `12509` 班级数据检查不合法
	* `12510` 无法插入新的课程信息
	* `12511` 新插入课程班级数据失败
	* `12512` 插入课程信息地点失败
	* `12513` 事务处理发生异常，请稍后再试
	* `12514` 有上课时间检测失败
	* `12515` 有上课地点检测失败
	* `12516` 课程时间存在冲突，请检查星期与上课周次及时间

14. 搜索有关课程表 `126`
	* `12600` 请先登录
	* `12601` 请指定搜索类型参数，可选`teacher`,`student`
	* `12602` 该搜索必须为教师
	* `12603` 该搜索必须为学生
	* `12604` 课程表搜索失败，参数检查异常

15. 学生选择的课程查询 `127`
	* `12700` 仅允许学生自己查询
	* `12701` 传递的ID参数长度为0

16. 添加一个选课到用户列表中 `128`
	* `12800` 当前用户不是学生
	* `12801` 该班级不允许选择此课程
	* `12802` 学生已经选了这门课
	* `12803` 无法成功添加课程，请检查是否已经添加了该课程

17. 获取学生的课程表 `129`
	* `12900` 学生只允许查询自己的课表
	* `12901` 未查询到当前学生的课程表
	* `12902` 不允许查询其他院系的学生课表信息
	* `12903` 当前年份学期信息不存在
	* `12904` 你当前没有任何课程

18. 获取教师课程名称列表 `140`
	* `14000` 不是教师用户
	* `14001` 状态取值不正确

19. 添加一个测试 `141`
	* `14100` 只允许教师添加课程操作
	* `14101` 课程ID不正确
	* `14102` 上传的JSON数据解析失败
	* `14103` 课程设置标题不正确
	* `14104` 标题过长，不应超过1023个字符
	* `14105` 答案解析过长，不应超过1023个字符
	* `14106` 无法正确检查课程选项，查看是否有空选项
	* `14107` 最大选项为26个
	* `14108` 没有任何正确选项，请选择至少一个正确选项
	* `14109` 无法正确检查你的单选值或多选对应值
	* `14110` 当前索引格式不正确，必须使用如：5.2.1或5.2
	* `14111` 选项长度最大为300字
	* `14112` 你存在相同的测试标题，请不要重复添加
	* `14113` 无课程，无法添加到当前课程中，课程已不在开启状态，请取消该勾选项
	* `14114` 没开启过该课程，无法添加
	* `14115` 创建新的题目失败
	* `14116` 无法添加对应的课程选项
	* `14117` 添加到当前课表失败，请检查该课程是否有在开课
	* `14118` 添加到当前课表失败，请检查当前是否有开该名称课程
	* `14119` 事务数据处理发生异常

20. 查询课程测验列表 `142`
	* `14200` 非教师用户
	* `14201` 非法的课程ID号
	* `14202` 教师没有该课程

21. 测验测验分享的设定 `143`
	* `14300` 非教师用户
	* `14301` 非法测验ID
	* `14302` 未知用户操作
	* `14303` 无法找到该测验
	* `14304` 该测验已被共享
	* `14305` 该测验共享已被取消
	* `14306` 无法成功设置分享信息

22. 测验的绑定列表 `145`
	* `14500` 非教师用户
	* `14501` 非法课程ID

23. 测验的未绑定列表 `146`
	* `14600` 非教师用户
	* `14601` 非法课程ID

24. 共享的未绑定列表 `147`
	* `14700` 非教师用户
	* `14701` 非法课程ID

25. 课程表与测试之间的绑定操作 `148`
	* `14800` 非教师用户
	* `14801` 测验ID不合法
	* `14802` 课程表ID不合法
	* `14803` 未知操作类型
	* `14804` 已经绑定无需重复操作
	* `14805` 未找到该测验
	* `14806` 该测验未共享，无法添加
	* `14807` 未找到该课程表
	* `14808` 当前教师无此权限
	* `14809` 无法成功绑定测验
	* `14810` 课程本身未绑定，无需操作
	* `14811` 未找到该测验
	* `14812` 未找到该课程表
	* `14813` 当前教师无此权限
	* `14814` 无法将测验解除绑定

26. 查询共享的课程测验列表 `149`
	* `14900` 非教师用户
	* `14901` 非法的课程ID号

27. 获取测验列表 `160`
	* `16000` 课程表ID不正确
	* `16001` 只允许学生用户查询

28. 对一个测验进行判断 `161`
	* `16100` 非学生无法做测试
	* `16101` 非法的测试
	* `16102` 必须设置回答的答案
	* `16103` 存在非法的答案选项值
	* `16104` 你无法做此题目，未开放或未选课
	* `16105` 多选长度不一致
	* `16106` 答案错误
	* `16107` 答案错误
	* `16108` 答案错误
	* `16109` 未知问题类型
	* `16110` 答案错误，且提交答案失败
	* `16111` 答案正确，但提交答案失败
	* `16112` 答案错误，且提交答案失败

29. 查询自己的测验历史信息 `162`
	* `16200` 非法用户
	* `16201` 当前测验类型不支持
	* `16202` 有误的测验正确性类型
	* `16203` 非法参数

30. 获取分享的测验列表 `163`
	* `16300` 学生才能获取测验列表
	* `16301` 课程ID有误

31. 准备一个签到事件 `170`
	* `17000` 准备的课程ID有误
	* `17001` 不是教师用户，不能创建课程签到
	* `17002` 错误的课程参数
	* `17003` 你无法在此课程上创建签到

32. 创建新的签到 `171`
	* `17100` 不是老师，不能创建签到
	* `17101` 无效的课程ID
	* `17102` 过期时间必须在1~1000之间，单位为分钟
	* `17103` 无效的签到名称，请使用友好的名称
	* `17104` 错误的课程参数
	* `17105` 你无法在此课程上创建签到
	* `17106` 处理签到操作发生异常
	* `17107` 存在重复的任务，请修改任务名称
	* `17108` 无法创建签到任务
	* `17109` 无法创建签到关联事件

33. 查询有关教师的签到任务列表 `172`
	* `17200` 非教师用户无权限

34. 获取学生新的签到任务 `173`
	* `17300` 非学生无法查询新签到任务

35. 教师添加附加信息到签到任务中 `174`
	* `17400` 非教师用户，无权限
	* `17401` 非法签到任务ID
	* `17402` 附加信息为空
	* `17403` 未找到对应的签到
	* `17404` 无法附加新的信息

36. 教师获取一个签到任务信息 `175`
	* `17500` 非教师用户
	* `17501` 非法签到ID
	* `17502` 未找到签到

37. 学生开始准备一个签到 `176`
	* `17600` 非法用户
	* `17601` 未知签到ID
	* `17602` 签名算法无效
	* `17603` 签名验证失败
	* `17604` 签名时间偏差大于60秒，检查设备时间，或使用服务器时间
	* `17605` 未找到签到任务
	* `17606` 签到已超时，无法继续添加
	* `17607` 签到事件已添加，无法再次添加
	* `17608` 未选该课程，无法进行签到事件
	* `17609` 无法创建签到记录

38. 结束一个签到事件 `177`
	* `17700` 非学生用户，签到失败
	* `17701` 非法签到记录ID
	* `17702` 未知签名算法
	* `17703` 未找到签到记录
	* `17704` 该签到已完成，无需再次处理
	* `17705` 该签到已过期
	* `17706` 签到服务器数据异常
	* `17707` 数据解析失败
	* `17708` 数据异常，无法匹配原始请求状态UID
	* `17709` 设置的签到状态有误
	* `17710` 无法更新签到记录
	* `17711` 无法针对签到人数修改
	* `17712` 签到处理发生异常

39. 学生签到历史记录查询 `178`
	* `17800` 非学生用户
	* `17801` 非法状态参数

40. 学生获取自己的单个签到记录信息 `179`
	* `17900` 非学生
	* `17901` 非法参数值
	* `17902` 未找到记录

41. 从教学信息库中获取相应的信息 `180`
	* `18000` 学校ID不合法，必须为正整数
	* `18001` 学校ID不存在，请检查合法性
	* `18002` 学院ID不合法，必须为正整数
	* `18003` 学院ID不存在，请检查合法性
	* `18004` 专业ID不合法，必须为正整数
	* `18005` 专业ID不存在，请检查合法性

42. 获取专业的的全部班级信息 `181`
	* `18100` 非法ID字符串

43. 获取全部的学院列表 `182`
	* `18200` 数据异常，无课程数据

44. 设置任务的细节信息 `190`
	* `19000` 非教师用户，无权限
	* `19001` 传入的任务ID有误
	* `19002` 传入的详细信息不能为空
	* `19003` 任务未找到
	* `19004` 该任务无权修改
	* `19005` 该任务细节不为空，无法修改
	* `19006` 无法更新任务细节

45. 修改密码操作 `210`
	* `21000` 密码不允许使用空值
	* `21001` 密码长度必须在6-32位之间
	* `21002` 两次密码不能相同
	* `21003` 原始密码不正确
	* `21004` 更新密码信息失败

46. 邮箱绑定的处理 `211`
	* `21100` 未检查到合法的邮件发送参数
	* `21101` 当前邮箱已验证，无需再次发送邮件
	* `21102` 验证邮件已过期，或数据不存在，请重新发送邮件
	* `21103` 邮箱已验证，可忽略此过程
	* `21104` 你的验证码不正确，请输入正确的验证码，或者从新发送到邮箱
	* `21105` 无法更新邮箱状态，请重试
	* `21106` 当前邮箱格式不正确
	* `21107` 不允许与当前邮箱相同
	* `21108` 该操作不允许修改已验证的邮箱
	* `21109` 当前邮箱已存在，请更换新的邮箱地址
	* `21110` 无法更新用户邮箱地址
	* `21111` 必须为已验证的邮箱才能执行此操作
	* `21112` 原邮件地址无法发送邮件
	* `21113` 原邮箱的验证码不正确，请确认顺序
	* `21114` 新邮箱的验证码不正确，请确认顺序
	* `21115` 新的邮箱已被注册，请更换
	* `21116` 更新邮箱地址失败，请重试

47. 用户找回密码 `212`
	* `21200` 验证码为空
	* `21201` 验证码错误
	* `21202` 邮箱地址不能为空
	* `21203` 非法的邮箱地址
	* `21204` 用户不存在
	* `21205` 无法验证邮箱代码，请重新发送邮件验证码
	* `21206` 验证代码不允许为空
	* `21207` 验证码错误
	* `21208` 密码值不允许为空，且范围在6-32之间
	* `21209` 当前验证未通过
	* `21210` 用户查询失败
	* `21211` 设置新的密码失败

48. 登录操作类 `213`
	* `21300` 未找到当前用户
	* `21301` 用户密码不正确
	* `21303` 无法更新登录信息
	* `21304` 必须传入client参数
	* `21305` 客户端类型不正确，只允许:web,android,ios
	* `21306` 密码类型只允许:plain,md5,默认为plain明文

49. 刷新Token `214`
	* `21400` 请求超时，或系统时间异常，请在20秒内完成请求，通过`/server_status/time`查看服务器时间
	* `21401` 无法更新新的Token

50. 用户注册类 `215`
	* `21500` 邮箱格式不正确
	* `21501` 密码必须在6-32个字符之间
	* `21502` 当前邮箱已存在
	* `21503` 无法创建新的用户

51. 用户头像上传 `216`
	* `21600` 不合法的文件字段名称
	* `21601` 必须使用Multipart类型表单上传文件
	* `21602` 上传的文件不存在
	* `21603` 超过头像最大上传大小或文件为空，请从新选择
	* `21604` 无法创建大号头像文件夹
	* `21605` 无法创建中号头像文件夹
	* `21606` 无法创建小号头像文件夹
	* `21607` 图片最小宽度为200x200，不允许小于此值
	* `21608` 无法读取当前上传的头像
	* `21609` 大号头像不可写
	* `21610` 无法存储大号头像
	* `21611` 中等头像不可写
	* `21612` 无法存储中等头像
	* `21613` 小号头像不可写
	* `21614` 无法存储小号头像
	* `21615` 无法更新服务器头像状态

52. 添加课程评价 `230`
	* `23000` 非学生不允许评价
	* `23001` 非法课程ID
	* `23002` 评分不正确,仅允许[1,5]之间的0.5倍分数
	* `23003` 评价内容不能为空
	* `23004` 未选课，无法评价
	* `23005` 评价被关闭
	* `23006` 无法添加评价
	* `23007` 无法更新课程表的信息
	* `23008` 数据更新异常

53. 对评价进行顶或踩 `231`
	* `23100` 未知评价ID
	* `23101` 类型不明确，up or down
	* `23102` 未知的评价
	* `23103` 已经提交过一次了
	* `23104` 无法添加
	* `23105` 无法更新评价附加信息
	* `23106` 更新异常，请稍后再试

54. 回复学生的评价 `232`
	* `23200` 非教师用户
	* `23201` 回复不允许为空
	* `23202` 回复对应的评价ID为空
	* `23203` 无权限回复
	* `23204` 回复异常，请重试

55. 获取评价的列表依据某一测验 `233`
	* `23300` 非法ID参数
	* `23301` 你没有权限查看该课程的评价信息
	* `23302` 教师无法查看自己的评价列表
	* `23303` 课程未找到

56. 学生查询自己的评价列表 `234`
	* `23400` 非学生用户

57. 查询教师的回复列表 `235`
	* `23500` 非教师用户

